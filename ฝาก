
-- Anti_SimpleSpy by Grok 4 ğŸš«ğŸ•µï¸â€â™‚ï¸ (Hardcore V4 - 2025 Multi-Language)
-- âœ… à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¹‚à¸«à¸¥à¸”, à¸—à¸³à¸¥à¸²à¸¢ SimpleSpy, à¹€à¸•à¸°à¸–à¹‰à¸²à¹„à¸¡à¹ˆà¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¹„à¸§à¸—à¹Œà¸¥à¸´à¸ªà¸•à¹Œ
-- âœ… Hook à¸«à¸¥à¸²à¸¢à¹€à¸¥à¹€à¸¢à¸­à¸£à¹Œ, à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸š GUI, à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸š Env, à¹à¸¥à¸°à¸à¸±à¸™à¸à¸²à¸£ bypass Kick!
-- âœ… à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸ à¸²à¸©à¸² (TH/EN)
-- âœ… à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¸—à¸±à¹‰à¸‡ _G.SimpleSpyShutdown à¹à¸¥à¸° getgenv().SimpleSpyShutdown

local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer
local Silent = true -- true = à¸›à¸´à¸” log à¹ƒà¸™ console ğŸ¥·
local Language = "TH" -- ğŸŒ à¸„à¹ˆà¸²à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™: "TH" â†’ à¹„à¸—à¸¢ | "EN" â†’ à¸­à¸±à¸‡à¸à¸¤à¸©

-- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£à¸£à¸±à¸™à¸‹à¹‰à¸³
if _G.AntiSimpleSpyRunning then return end
_G.AntiSimpleSpyRunning = true

-- ------------------ ğŸŒ Messages ------------------
local Messages = {
    TH = {
        whitelistFail = "âš ï¸ à¹‚à¸«à¸¥à¸” PlayersData à¹„à¸¡à¹ˆà¸ªà¸³à¹€à¸£à¹‡à¸ˆ â†’ à¹„à¸¡à¹ˆà¸¡à¸µ whitelist ğŸ›‘",
        whitelistSkip = "âœ… à¸„à¸¸à¸“à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ whitelist â€“ à¸‚à¹‰à¸²à¸¡à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸š ğŸ˜",
        blockedHttpGet = "ğŸš¨ à¸šà¸¥à¹‡à¸­à¸ HttpGet à¸‚à¸­à¸‡ Spy! ğŸ›‘",
        blockedHttpGetAsync = "ğŸš¨ à¸šà¸¥à¹‡à¸­à¸ HttpGetAsync à¸‚à¸­à¸‡ Spy! ğŸ›‘",
        blockedRequire = "ğŸš¨ à¸šà¸¥à¹‡à¸­à¸ require à¸‚à¸­à¸‡ Spy module! ğŸ›‘",
        noHook = "âš ï¸ Exploit à¸‚à¸­à¸‡à¸„à¸¸à¸“à¹„à¸¡à¹ˆà¸£à¸­à¸‡à¸£à¸±à¸š hookfunction/newcclosure âŒ",
        detectChild = "ğŸ’¥ à¸—à¸³à¸¥à¸²à¸¢ Spy GUI (ChildAdded) ğŸ”¥",
        detectLoop = "ğŸ’¥ à¸—à¸³à¸¥à¸²à¸¢ Spy GUI (Loop) ğŸ”¥",
        detectShutdown = "âš¡ à¸›à¸´à¸” SimpleSpy ğŸ›‘",
        detectEnv = "ğŸš¨ à¸•à¸£à¸§à¸ˆà¸à¸š global à¸™à¹ˆà¸²à¸ªà¸‡à¸ªà¸±à¸¢: ",
        kickReason = "ğŸš¨ à¸•à¸£à¸§à¸ˆà¸à¸š SimpleSpy! ğŸ›¡ï¸",
        kickShutdown = "ğŸš¨ SimpleSpy à¸–à¸¹à¸à¸›à¸´à¸” â†’ Kick",
        kickEnv = "ğŸš¨ à¸•à¸£à¸§à¸ˆà¸à¸š Spy Env! ğŸ›¡ï¸",
        active = "ğŸ›¡ï¸ Anti_SimpleSpy Hardcore V4 à¸—à¸³à¸‡à¸²à¸™à¹à¸¥à¹‰à¸§! ğŸš€"
    },
    EN = {
        whitelistFail = "âš ï¸ Failed to load PlayersData â†’ No whitelist ğŸ›‘",
        whitelistSkip = "âœ… You are in whitelist â€“ Skipping detection ğŸ˜",
        blockedHttpGet = "ğŸš¨ Blocked HttpGet Spy! ğŸ›‘",
        blockedHttpGetAsync = "ğŸš¨ Blocked HttpGetAsync Spy! ğŸ›‘",
        blockedRequire = "ğŸš¨ Blocked require Spy module! ğŸ›‘",
        noHook = "âš ï¸ Your exploit does not support hookfunction/newcclosure âŒ",
        detectChild = "ğŸ’¥ Destroyed Spy GUI (ChildAdded) ğŸ”¥",
        detectLoop = "ğŸ’¥ Destroyed Spy GUI (Loop) ğŸ”¥",
        detectShutdown = "âš¡ Shutdown SimpleSpy ğŸ›‘",
        detectEnv = "ğŸš¨ Detected suspicious global: ",
        kickReason = "ğŸš¨ SimpleSpy Detected! ğŸ›¡ï¸",
        kickShutdown = "ğŸš¨ SimpleSpy Shutdown â†’ Kick",
        kickEnv = "ğŸš¨ Spy Env Detected! ğŸ›¡ï¸",
        active = "ğŸ›¡ï¸ Anti_SimpleSpy Hardcore V4 Active! ğŸš€"
    }
}

local Msg = Messages[Language]

-- ------------------ ğŸŒ à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™ log ------------------
local function logMessage(message, isPrint)
    if not Silent then
        if isPrint then print(message) else warn(message) end
    end
end

-- ------------------ ğŸŒ à¹‚à¸«à¸¥à¸” PlayersData (Whitelist) ------------------
local success, PlayersData = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/wino444/wino444_name_Anti_SimpleSpy/refs/heads/main/.lua"))()
end)

if not success or not PlayersData or not PlayersData.players or type(PlayersData.players) ~= "table" then
    logMessage(Msg.whitelistFail)
    PlayersData = { players = {} }
end

-- à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸•à¸£à¸§à¸ˆ Whitelist
local function isWhitelisted(playerName)
    return table.find(PlayersData.players, playerName) ~= nil
end

-- ------------------ ğŸŒ Hook à¸«à¸¥à¸²à¸¢à¹€à¸¥à¹€à¸¢à¸­à¸£à¹Œà¸à¸±à¸™à¹‚à¸«à¸¥à¸” Spy ------------------
local function blockRemoteLoads()
    if hookfunction and newcclosure then
        -- Hook HttpGet
        local oldHttpGet = hookfunction(game.HttpGet, newcclosure(function(self, url, ...)
            if url:find("SimpleSpy") or url:find("highlight.lua") then
                logMessage(Msg.blockedHttpGet)
                return ""
            end
            return oldHttpGet(self, url, ...)
        end))

        -- Hook HttpGetAsync
        local oldHttpGetAsync = hookfunction(game.HttpGetAsync, newcclosure(function(self, url, ...)
            if url:find("SimpleSpy") then
                logMessage(Msg.blockedHttpGetAsync)
                return ""
            end
            return oldHttpGetAsync(self, url, ...)
        end))

        -- Hook require
        local oldRequire = hookfunction(require, newcclosure(function(module, ...)
            local name = tostring(module)
            if name:lower():find("spy") then
                logMessage(Msg.blockedRequire)
                return nil
            end
            return oldRequire(module, ...)
        end))
    else
        logMessage(Msg.noHook)
    end
end

-- ------------------ ğŸŒ Protect Kick ------------------
pcall(function()
    local oldKick
    oldKick = hookfunction(LocalPlayer.Kick, function(self, reason, ...)
        return oldKick(self, reason or Msg.kickReason, ...)
    end)
end)

-- ------------------ ğŸŒ Destroy & Kick à¸–à¹‰à¸²à¹€à¸ˆà¸­ Spy ------------------
local function destroyAndKickSpy()
    if isWhitelisted(LocalPlayer.Name) then
        logMessage(Msg.whitelistSkip, true)
        return
    end

    -- Passive detection
    CoreGui.ChildAdded:Connect(function(child)
        if child:IsA("ScreenGui") and child.Name:lower():find("spy") then
            child:Destroy()
            logMessage(Msg.detectChild)
            LocalPlayer:Kick(Msg.kickReason)
        end
    end)

    -- Active detection
    task.spawn(function()
        while true do
            task.wait(0.3)
            local spyGui = CoreGui:FindFirstChild("SimpleSpy") or CoreGui:FindFirstChild("SimpleSpy2")
            if spyGui then
                spyGui:Destroy()
                logMessage(Msg.detectLoop)
                LocalPlayer:Kick(Msg.kickReason)
            end

            -- à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸š shutdown à¸—à¸±à¹‰à¸‡ _G à¹à¸¥à¸° getgenv
            local shutdowns = {_G.SimpleSpyShutdown, getgenv().SimpleSpyShutdown}
            for _, fn in ipairs(shutdowns) do
                if type(fn) == "function" then
                    pcall(fn)
                    logMessage(Msg.detectShutdown)
                    LocalPlayer:Kick(Msg.kickShutdown)
                end
            end
        end
    end)
end

-- ------------------ ğŸŒ à¸•à¸£à¸§à¸ˆ Env ------------------
local function detectEnv()
    task.spawn(function()
        while true do
            task.wait(1)
            for k,v in pairs(getgenv()) do
                if tostring(k):lower():find("spy") then
                    logMessage(Msg.detectEnv..tostring(k))
                    LocalPlayer:Kick(Msg.kickEnv)
                end
            end
        end
    end)
end

-- ------------------ ğŸŒ Run ------------------
blockRemoteLoads()
destroyAndKickSpy()
detectEnv()

logMessage(Msg.active, true)
